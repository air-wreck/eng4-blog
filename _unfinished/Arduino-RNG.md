---
layout: post
title: Using an Arduino as a Hardware RNG
date: Jan 27, 2018
summary: come up with a pun later
link: Arduino-RNG
---

While thinking about random number generation the other day, I had an interesting thought: could I use an Arduino as an external hardware random number generator? Note: can probably split this up as a project over several posts.

---
### introduction: true randomness, entropy, etc.
Computers are, for the most part, completely deterministic machines: the state of the machine at any one point in time should be completely predictive of both its historical state and any future states. However, random numbers are still useful for some things: simulations, cryptography, etc.

**Here's the dirty secret computer scientists don't want you to know [not clickbait]**: for the most part, the "random" numbers that your computer spews out aren't actually random. They're really generated by extremely complicated yet completely deterministic algorithms. Let's look at some examples in different programming languages:

``` c
#include <stdlib.h>
#include <time.h>

srand(time(NULL));  /* gasp! we're really seeding by time! */
```

---
### hardware setup
The Arduino itself cannot generate random numbers (well, maybe it can, but I'm not clever enough to figure out how). Instead, We use peripheral sensors to detect information from the environment that we use to seed our number generation algorithms. In this case, I tried photoresistors, which vary their resistance based on the amount of ambient light they receive. Unless you're purposely trying to make an artificial environment in a laboratory, this is probably really random and constantly changing (for example, common fluorescent lights oscillate with a very high frequency). I pulled a statistic and wired three of these in series: recall that resistors in series add their resistances. Treating each photoresistor as a measurement with a given uncertainty, if we add three of them together, the overall uncertainty increases by a factor of the square root of three (since variances add!).

---
### converting data to useful numbers
Now that we have random information about the outside world, such as light levels, motion, etc., we need a way to convert them to a number that a computer can use. There are a few things (okay, a lot of things) that we need to worry about for this step:

1. What will be the range of our numbers? Are we generating integers between `0` and `RANDINT_MAX`, or are we generating floating-point numbers between `0` and `1`?
2. Can we "smooth" out the raw data to give a uniform sampling distribution? Can we do this in a way that doesn't significantly harm the information entropy?

---
### presenting to linux as a device file
If you've used Linux before (and you really should), you might be familiar with the standard device files used to get random numbers, `/dev/random` and `/dev/urandom`. These generate random numbers based on entropy available on your machine. 

Linux everything is a file blah blah blah
